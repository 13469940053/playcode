<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>张成收款码</title>

    <script>
    var setting = {
        // 在以下双引号中粘贴QQ钱包收款链接
        qqUrl: "https://i.qianbao.qq.com/wallet/sqrcode.htm?m=tenpay&f=wallet&u=2508723631&a=1&n=%E6%97%A0%E9%A3%8E%E4%B8%8D%E8%B5%B7%E6%B5%AA%E7%A9%BA%E7%A9%B4%E6%97%A0%E6%9D%A5%E9%A3%8E%40%E4%BD%A0&ac=CAEQr6ugrAkYvNvG8QU%3D_xxx_sign",

        // 在以下双引号中粘贴微信收款链接
        wechatUrl: "wxp://f2f0vWQO8PBMvl1deUiSGKxZRriEvhGd3cZs",

        // 在以下双引号中粘贴支付宝收款链接
        aliUrl: "https://qr.alipay.com/fkx179251pheonapcr3ly4e",

        // 用于动态生成二维码的API，连图官方的，不需要修改。
        qrcodeApi: "http://qr.topscan.com/api.php?text=https://qr.alipay.com/fkx179251pheonapcr3ly4e"
        /*
        备用二维码api：
        http://s.jiathis.com/qrcode.php?url=
        http://www.kuaizhan.com/common/encode-png?large=true&data=
        http://b.bshare.cn/barCode?site=weixin&url=
        http://pan.baidu.com/share/qrcode?w=150&h=150&url=
        */
    }
    </script>
    <script>
    // var setting = {
    //     qqUrl: "https://i.qianbao.qq.com/wallet/sqrcode.htm?m=tenpay&f=wallet&u=2508723631&a=1&n=%E6%97%A0%E9%A3%8E%E4%B8%8D%E8%B5%B7%E6%B5%AA%E7%A9%BA%E7%A9%B4%E6%97%A0%E6%9D%A5%E9%A3%8E%40%E4%BD%A0&ac=CAEQr6ugrAkYvNvG8QU%3D_xxx_sign",
    //     wechatUrl: "https://wx.tenpay.com/f2f?t=f2f0vWQO8PBMvl1deUiSGKxZRriEvhGd3cZs",
    //     aliUrl: "HTTPS://QR.ALIPAY.COM/FKX02802RGWJ0W11A2YXE7",
    //     qrcodeApi: "http://qr.topscan.com/api.php?text=https://qr.alipay.com/fkx179251pheonapcr3ly4e"
    // }
    </script>

    <style>
    * {
        margin: 0; padding: 0;
        font-family: Microsoft yahei;
    }
    body {
        background-color: #fff;
    }
    .code-item {
        width: 100%;
        max-width: 400px;
        margin: 0 auto;
        padding-bottom: 1px;
        display: none;
        background-color: #5c92ef;
    }
    .code-title {
        height: 100px;
        background-color: #f2f2f2;
        background-position: center;
        background-repeat: no-repeat;
        background-size: 60%;
    }
    .code-area {
        text-align: center;
    }
    .code-area>img {
        margin: 80px 0;
        width: 60%;
        min-width: 100px;
    }
    .code-footer {
        height: 80px;
        text-align: center;
        background-color: #fff;
        color: #666;
        line-height: 40px;
        font-size: 20px;
        margin: -2px 2px 2px 2px;
    }

    #code-all>.code-title {
        background-image: url("img/money.png");
    }

    #code-qq {
        background-color: #54b4ef;
    }
    #code-qq>.code-title {
        background-image: url("img/money.png");
    }

    #code-wechat {
        background-color: #54bc6e;
    }
    #code-wechat>.code-title {
        background-image: url("img/money.png");
    }

    .money {
        height: 80px;
        text-align: center;
        line-height: 180px;
        font-size: 18px;
        margin: -2px 2px 2px 2px;
    }
    </style>

</head>
<body>
    <div class="code-item" id="code-all">
        <div class="code-title"><div class="money">本二维码支持以上APP向我付款</div></div>
        <div class="code-area">
            <img id="page-url" src="img/money.png">
        </div>
        <div class="code-footer">扫描或长按以上二维码向我付款<br />Copyright ©  2019 wulangwang.</div>
    </div>
    <div class="code-item" id="code-qq">
        <div class="code-title"><div class="money">本二维码支持以上APP向我付款</div></div>
        <div class="code-area">
            <img id="qq-url" src="img/money.png">
        </div>
        <div class="code-footer">扫描或长按以上二维码向我付款<br />Copyright ©  2019 wulangwang.</div>
    </div>
    <div class="code-item" id="code-wechat">
        <div class="code-title"><div class="money">本二维码支持以上APP向我付款</div></div>
        <div class="code-area">
            <img id="wechat-url" src="img/money.png">
        </div>
        <div class="code-footer">扫描或长按以上二维码向我付款<br />Copyright © 2019 wulangwang。</div>
    </div>

    <script>
     <script>if(navigator.userAgent.match(/Alipay/i)) {
    // 支付宝
    window.location.href = setting.aliUrl;
   } else if(navigator.userAgent.match(/MicroMessenger\//i)) {
    // 微信
    document.getElementById("wechat-url").src = setting.qrcodeApi + urlEncode(setting.wechatUrl);
    document.getElementById("code-wechat").style.display = "block";
  } else if(navigator.userAgent.match(/QQ\//i)) {
    // QQ
        document.getElementById("qq-url").src = setting.qrcodeApi + urlEncode(setting.qqUrl);
        document.getElementById("code-qq").style.display = "block";
    } else {
        // document.getElementById("page-url").src = setting.qrcodeApi + urlEncode(window.location.href);
        // document.getElementById("code-all").style.display = "block";
        alert("请重试！");
    }

    function urlEncode(String) {
        return encodeURIComponent(String).replace(/'/g,"%27").replace(/"/g,"%22");
    }

    </script>

</body>
</html>
